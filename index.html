<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>appomodoro</title>
        <script src="/js/jquery-1.6.1.min.js"></script>
        <script src="/js/modernizr-2.0.4.js"></script>
        <script src="/js/pomotimer.js"></script>

        <link rel="stylesheet" href="/css/general.css"/>

        <!--   GOOGLE WEB FONTS     -->
        <link  href="http://fonts.googleapis.com/css?family=Cherry+Cream+Soda:regular&v1" rel="stylesheet">
        <link  href="http://fonts.googleapis.com/css?family=Rock+Salt:regular&v1" rel="stylesheet">
    </head>
    <body>
        <div id="rays">
            <div id="container">
                <header>
                    <h1 class="logo"><span class="tomate"></span>ap<span class="overlay">p</span><span class="resto">omodoro</span></h1>
                </header>
                <section id="wtf">
                    <h1>Wtf?</h1>
                    <div id="wtfexpand">
                        <p>Appomodoro es un cron&oacute;metro para aplicar la <b>t&eacute;cnica Pomodoro</b>. Si no sabes de que se trata, ve y lee el <a href="http://es.wikipedia.org/wiki/T%C3%A9cnica_Pomodoro" title="Articulo de la Wikipedia acerca de la t&eacute;cnica pomodoro">art&iacute;culo de wikipedia.</a></p>
                        <p>Desarroll&eacute; appomodoro para practicar en mis skills de HTML5 y de App Engine. Si tienes alg&uacute;n comentario o sugerencia, <a href="mailto:coolacid217@gmail.com">escr&iacute;beme un correo.</a></p>
                        <p>Â¡Que disfrutes appomodoro!</p>
                    </div>
                </section>
                <section id="reloj">
                    <canvas width="100" height="180" id="seg0">Miau</canvas>
                    <canvas width="100" height="180" id="seg1">Miau</canvas>
                    <canvas width="60" height="180" id="separador">Miau</canvas>
                    <canvas width="100" height="180" id="seg2">Miau</canvas>
                    <canvas width="100" height="180" id="seg3">Miau</canvas>
                </section>
                <section id="botones">
                    <a href="#" id="start" class="green button super">Iniciar Pomodoro</a>
                    <audio id="alarma" preload="auto">
                        <source src="/sounds/alarm.ogg" type="audio/ogg" />
                        <source src="/sounds/alarm.mp3" type="audio/mpeg" />
                    </audio>
                </section>
                <section id="config">
                    <h1>Configuraciones:</h1>
                    <ul id="configul">
                        <li>
                            <label for="largopom">Duraci&oacute;n del pomodoro:</label>
                            <input type="number" min ="1" max ="99" id="largopom" name="largopom" value="{{preferencias.largopom}}"/>minutos
                        </li>    
                        <li>
                            <label for="descorto">Duraci&oacute;n del descanso normal:</label>
                            <input type="number" min ="1" max ="99" id="descorto" name="descorto" value="{{preferencias.descorto}}"/>minutos
                        </li>    
                        <li>
                            <label for="deslargo">Duraci&oacute;n del descanso largo:</label>
                            <input type="number"  min ="1" max ="99" id="deslargo" name="deslargo" value="{{preferencias.deslargo}}"/>minutos
                        </li>
                    </ul>
                </section>
                <footer>
                    <p>Creado por Cool Acid un d&iacute;a que quer&iacute;a aprender HTML5 y no ten&iacute;a nada que hacer en el mes de Junio del 2011</p>
                </footer>
            </div>
        </div>
        <script type="text/javascript">
            $(document).ready(function() {
                var minpomodoro = 1;
                var descorto = 1;
                var deslargo = 20;
                var wtf = false;
                
                var relojito = new pomotimer(minpomodoro,descorto,deslargo);
                if (Modernizr.canvas){
                    relojito.inicializar();
                    $('#start').click(function(){
                        relojito.iniciar();
                        return false;
                    });
                }else{
                    alert("Tu navegador no soporta Canvas! D:");
                    //TODO: Manejar esto menos gachamente.
                }
                $('#formita').submit(function(){return false;});
                $('#configul input').change(function(){
                    id = $(this).attr('id');
                    $(this).parent();
                });
                $('#wtf').click(function(){
                    if(!wtf){
                        $('#wtf').animate({width: 500},500,function(){
                            $('#wtf').animate({height: 200},500,function(){
//                                $('#wtfexpand').css("text-color", "rgba(255,255,255,0)");
//                                $('#wtfexpand').show();
                                $('#wtfexpand').fadeIn('fast');
                            });
                        });
                    }else{
                        $('#wtfexpand').fadeOut('fast',function(){
                            $('#wtf').animate({height: 40},500,function(){
                                $('#wtf').animate({width: 40},500);
                            });
                        });
                    }
                    wtf = !wtf;
                });
            });
        </script>
    </body>
</html>